{"ast":null,"code":"import _toConsumableArray from\"/Users/johnculbreth/Downloads/CatFacts - John Culbreth 2/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/johnculbreth/Downloads/CatFacts - John Culbreth 2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./Sidebar.css';import CatItem from'../../components/CatItem/CatItem.js';import{useCat,useCatUpdate,useSearch,useSearchUpdate}from'../../contexts.js';import{createElement as _createElement}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(){//contexts\nvar selected=useCat();var select=useCatUpdate();var searchValue=useSearch();var search=useSearchUpdate();//search keystroke handling\nfunction handleChange(event){if(event.code===\"Enter\"||event.code===\"NumpadEnter\"){event.preventDefault();var value=event.target.value;search(value);};}try{var cats=JSON.parse(localStorage.getItem(\"cats\"));if(cats&&Array.isArray(cats)){//filter sidebar by search value\nvar filteredCats=null;if(searchValue===\"\"||searchValue===undefined){filteredCats=cats;}else{filteredCats=cats.filter(function(cat){return searchValue.toLowerCase().includes(cat.name.toLowerCase());});}var itemComponents=filteredCats.map(function(cat,index){return/*#__PURE__*/_createElement(CatItem,_objectSpread(_objectSpread({},cat),{},{key:index}));});var newCats=filteredCats;var cloneCats=_toConsumableArray(filteredCats);console.log(newCats,cloneCats);filteredCats[0].name=\"Antonio\";console.log(newCats,cloneCats);return/*#__PURE__*/_jsxs(\"div\",{className:\"items_wrapper\",\"data-testid\":\"Sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search_wrapper\",\"data-testid\":\"SearchBar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"search_element\",onKeyDown:handleChange,id:\"search\",placeholder:\"Search Cats by Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search_element\",children:\"Hit Enter Key to Search\"})]}),itemComponents]});}else{return\"Could not load cats.\";}}catch(error){return\"Could not load Sidebar\";}}export default Sidebar;","map":{"version":3,"sources":["/Users/johnculbreth/Downloads/CatFacts - John Culbreth 2/src/components/Sidebar/Sidebar.js"],"names":["React","useState","useEffect","CatItem","useCat","useCatUpdate","useSearch","useSearchUpdate","Sidebar","selected","select","searchValue","search","handleChange","event","code","preventDefault","value","target","cats","JSON","parse","localStorage","getItem","Array","isArray","filteredCats","undefined","filter","cat","toLowerCase","includes","name","itemComponents","map","index","newCats","cloneCats","console","log","error"],"mappings":"mSAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,qCAApB,CACA,OAASC,MAAT,CAAiBC,YAAjB,CAA+BC,SAA/B,CAA0CC,eAA1C,KAAiE,mBAAjE,C,2IAGA,QAASC,CAAAA,OAAT,EAAmB,CAEjB;AACA,GAAIC,CAAAA,QAAQ,CAAGL,MAAM,EAArB,CACA,GAAIM,CAAAA,MAAM,CAAGL,YAAY,EAAzB,CACA,GAAIM,CAAAA,WAAW,CAAGL,SAAS,EAA3B,CACA,GAAIM,CAAAA,MAAM,CAAGL,eAAe,EAA5B,CAEA;AAGA,QAASM,CAAAA,YAAT,CAAsBC,KAAtB,CAA4B,CAExB,GAAIA,KAAK,CAACC,IAAN,GAAe,OAAf,EAA0BD,KAAK,CAACC,IAAN,GAAe,aAA7C,CAA4D,CAC1DD,KAAK,CAACE,cAAN,GACA,GAAIC,CAAAA,KAAK,CAAGH,KAAK,CAACI,MAAN,CAAaD,KAAzB,CACAL,MAAM,CAACK,KAAD,CAAN,CAEH,EAEF,CAED,GAAI,CACF,GAAIE,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX,CACA,GAAGJ,IAAI,EAAIK,KAAK,CAACC,OAAN,CAAcN,IAAd,CAAX,CAA+B,CAC7B;AACA,GAAIO,CAAAA,YAAY,CAAG,IAAnB,CACA,GAAIf,WAAW,GAAK,EAAhB,EAAsBA,WAAW,GAAKgB,SAA1C,CAAqD,CACnDD,YAAY,CAAGP,IAAf,CACD,CAFD,IAGK,CACHO,YAAY,CAAGP,IAAI,CAACS,MAAL,CAAY,SAAAC,GAAG,QAAIlB,CAAAA,WAAW,CAACmB,WAAZ,GAA0BC,QAA1B,CAAmCF,GAAG,CAACG,IAAJ,CAASF,WAAT,EAAnC,CAAJ,EAAf,CAAf,CACD,CACD,GAAMG,CAAAA,cAAc,CAAGP,YAAY,CAACQ,GAAb,CAAiB,SAACL,GAAD,CAAMM,KAAN,qBAAgB,eAAC,OAAD,gCAAaN,GAAb,MAAkB,GAAG,CAAEM,KAAvB,GAAhB,EAAjB,CAAvB,CACA,GAAIC,CAAAA,OAAO,CAAGV,YAAd,CACA,GAAIW,CAAAA,SAAS,oBAAOX,YAAP,CAAb,CACAY,OAAO,CAACC,GAAR,CAAYH,OAAZ,CAAqBC,SAArB,EACAX,YAAY,CAAC,CAAD,CAAZ,CAAgBM,IAAhB,CAAuB,SAAvB,CACAM,OAAO,CAACC,GAAR,CAAYH,OAAZ,CAAqBC,SAArB,EAEA,mBACE,aAAK,SAAS,CAAC,eAAf,CAA+B,cAAY,SAA3C,wBAGE,aAAK,SAAS,CAAC,gBAAf,CAAgC,cAAY,WAA5C,wBACE,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,gBAA/B,CAAgD,SAAS,CAAExB,YAA3D,CAA0E,EAAE,CAAC,QAA7E,CAAsF,WAAW,CAAC,qBAAlG,EADF,cAEE,YAAK,SAAS,CAAC,gBAAf,qCAFF,GAHF,CAUGoB,cAVH,GADF,CAcD,CA9BD,IA8BO,CACL,MAAO,sBAAP,CACD,CAEF,CAAC,MAAOO,KAAP,CAAc,CACd,MAAO,wBAAP,CACD,CACF,CACD,cAAehC,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Sidebar.css';\nimport CatItem from '../../components/CatItem/CatItem.js';\nimport { useCat, useCatUpdate, useSearch, useSearchUpdate } from '../../contexts.js';\n\n\nfunction Sidebar() {\n\n  //contexts\n  let selected = useCat();\n  let select = useCatUpdate();\n  let searchValue = useSearch();\n  let search = useSearchUpdate();\n\n  //search keystroke handling\n\n\n  function handleChange(event){\n    \n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        event.preventDefault();\n        let value = event.target.value;\n        search(value);\n\n    };\n\n  }\n\n  try {\n    let cats = JSON.parse(localStorage.getItem(\"cats\"))\n    if(cats && Array.isArray(cats)){\n      //filter sidebar by search value\n      let filteredCats = null;\n      if (searchValue === \"\" || searchValue === undefined) {\n        filteredCats = cats;\n      }\n      else {\n        filteredCats = cats.filter(cat => searchValue.toLowerCase().includes(cat.name.toLowerCase()));\n      }\n      const itemComponents = filteredCats.map((cat, index) => <CatItem {...cat} key={index} />)\n      let newCats = filteredCats;\n      let cloneCats = [...filteredCats];\n      console.log(newCats, cloneCats);\n      filteredCats[0].name = \"Antonio\";\n      console.log(newCats, cloneCats);\n      \n      return (\n        <div className=\"items_wrapper\" data-testid=\"Sidebar\">\n          {//Search Bar\n          }\n          <div className=\"search_wrapper\" data-testid=\"SearchBar\">\n            <input type=\"search\" className=\"search_element\" onKeyDown={handleChange}  id=\"search\" placeholder=\"Search Cats by Name\"></input>\n            <div className=\"search_element\">Hit Enter Key to Search</div>\n          </div>\n  \n          {//Cat Items\n          }\n          {itemComponents}\n        </div>\n      )\n    } else {\n      return \"Could not load cats.\";\n    }\n\n  } catch (error) {\n    return \"Could not load Sidebar\";\n  }\n}\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}